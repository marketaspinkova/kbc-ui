import React from 'react';
import PropTypes from 'prop-types';
import createReactClass from 'create-react-class';
import { Link } from 'react-router';
import { Dropdown } from 'react-bootstrap';
import ApplicationStore from '../../stores/ApplicationStore';
import NotificationsAccess from '../common/NotificationsAccess';

export default createReactClass({
  propTypes: {
    notifications: PropTypes.object.isRequired
  },

  render() {
    return (
      <div className="navbar">
        <ul className="nav navbar-nav">
          <li>
            <Link to="home" className="navbar-link">
              <svg width="26" height="20" viewBox="0 0 26 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M13 0C5.82021 0 0 5.75625 0 12.8571C0 15.2143 0.643229 17.4223 1.76312 19.3214C2.01635 19.7509 2.49889 20 3.00174 20H22.9983C23.5011 20 23.9836 19.7509 24.2369 19.3214C25.3568 17.4223 26 15.2143 26 12.8571C26 5.75625 20.1798 0 13 0ZM13 2.85714C13.664 2.85714 14.1998 3.30937 14.3686 3.91294C14.35 3.95049 14.3287 3.98624 14.3075 4.02195C14.2716 4.0822 14.2358 4.14232 14.2129 4.21071L13.7967 5.44598C13.5651 5.60179 13.3015 5.71429 13.0005 5.71429C12.2029 5.71429 11.556 5.07455 11.556 4.28571C11.556 3.49687 12.2024 2.85714 13 2.85714ZM2.88889 14.2857C2.88889 15.0745 3.53573 15.7143 4.33334 15.7143C5.13096 15.7143 5.7778 15.0745 5.7778 14.2857C5.7778 13.4969 5.13096 12.8571 4.33334 12.8571C3.53573 12.8571 2.88889 13.4969 2.88889 14.2857ZM6.49999 8.57143C5.70239 8.57143 5.05556 7.93169 5.05556 7.14286C5.05556 6.35402 5.70239 5.71429 6.49999 5.71429C7.29759 5.71429 7.94443 6.35402 7.94443 7.14286C7.94443 7.93169 7.29759 8.57143 6.49999 8.57143ZM14.8706 13.5531L17.6389 5.33883C17.8276 4.77767 17.5216 4.17053 16.9542 3.98348C16.3841 3.7924 15.772 4.09999 15.5837 4.66071L12.8149 12.8755C11.3073 12.9719 10.1111 14.1991 10.1111 15.7143C10.1111 16.2375 10.2637 16.721 10.5119 17.1429H15.4881C15.7363 16.721 15.8889 16.2375 15.8889 15.7143C15.8889 14.8455 15.4885 14.0772 14.8706 13.5531ZM18.3006 7.89241L19.0012 5.81428C19.1578 5.75669 19.323 5.71473 19.5 5.71473C20.2976 5.71473 20.9444 6.35446 20.9444 7.1433C20.9444 7.93214 20.2976 8.57188 19.5 8.57188C18.9863 8.57143 18.557 8.29152 18.3006 7.89241ZM20.2222 14.2857C20.2222 15.0745 20.8691 15.7143 21.6667 15.7143C22.4643 15.7143 23.1111 15.0745 23.1111 14.2857C23.1111 13.4969 22.4643 12.8571 21.6667 12.8571C20.8691 12.8571 20.2222 13.4969 20.2222 14.2857Z" fill="#7F8198"/>
              </svg>
              <span>Dashboard</span>
            </Link>
          </li>
          <Dropdown
            id="navbar-applications"
            noCaret
            title={(
              <span>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fillRule="evenodd" clipRule="evenodd" d="M0.581831 6.93868L11.5008 11.8919C11.8196 12.0367 12.18 12.0367 12.4988 11.8919L23.4177 6.93868C24.1935 6.58666 24.1935 5.41433 23.4177 5.0623L12.4992 0.10863C12.1823 -0.0362098 11.8182 -0.0362098 11.5013 0.10863L0.581831 5.06184C-0.193944 5.41386 -0.193944 6.58666 0.581831 6.93868ZM23.4182 11.0768L20.6953 9.84256L13.1184 13.277C12.7641 13.4378 12.3877 13.5194 12 13.5194C11.6124 13.5194 11.2364 13.4378 10.8816 13.277L3.30525 9.84256L0.581831 11.0768C-0.193944 11.4283 -0.193944 12.6002 0.581831 12.9517L11.5008 17.9012C11.8195 18.0456 12.18 18.0456 12.4988 17.9012L23.4182 12.9517C24.194 12.6002 24.194 11.4283 23.4182 11.0768ZM20.7056 15.8378L23.4182 17.0673C24.194 17.4188 24.194 18.5907 23.4182 18.9423L12.4988 23.8917C12.18 24.0361 11.8195 24.0361 11.5008 23.8917L0.581831 18.9423C-0.193944 18.5907 -0.193944 17.4188 0.581831 17.0673L3.29493 15.8378L10.8816 19.2769C11.2364 19.4377 11.6124 19.5193 12 19.5193C12.3877 19.5193 12.7641 19.4377 13.1184 19.2769L20.7056 15.8378Z" fill="#7F8198"/>
                </svg>
                <span>App Store</span>
              </span>
            )}
          >
            <li>
              <Link to="applications" className="navbar-link">
                <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15.6429 0.8925C15.3267 0.34125 14.7459 0 14.1173 0H5.88273C5.25411 0 4.67328 0.34125 4.35714 0.8925L0.239868 8.0925C-0.0799559 8.65125 -0.0799559 9.345 0.239868 9.9075L4.35714 17.1075C4.67328 17.6588 5.25411 18 5.88273 18H14.1173C14.7459 18 15.3267 17.6588 15.6429 17.1075L19.7601 9.9075C20.08 9.34875 20.08 8.655 19.7601 8.0925L15.6429 0.8925ZM14.1173 16.2H5.88273L1.76546 9L5.88273 1.8H14.1173L18.2345 9L14.1173 16.2ZM14.7055 8.4V9.6C14.7055 9.8475 14.5069 10.05 14.2643 10.05H11.0293V13.35C11.0293 13.5975 10.8308 13.8 10.5882 13.8H9.41182C9.16919 13.8 8.97068 13.5975 8.97068 13.35V10.05H5.73569C5.49306 10.05 5.29455 9.8475 5.29455 9.6V8.4C5.29455 8.1525 5.49306 7.95 5.73569 7.95H8.97068V4.65C8.97068 4.4025 9.16919 4.2 9.41182 4.2H10.5882C10.8308 4.2 11.0293 4.4025 11.0293 4.65V7.95H14.2643C14.5069 7.95 14.7055 8.1525 14.7055 8.4Z" fill="#7F8198"/>
                </svg>
                <span>Applications</span>
              </Link>
            </li>
            <li>
              <Link to="extractors" className="navbar-link">
                <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.25 15.5H12.9688C12.7109 15.5 12.5 15.2891 12.5 15.0312V14.0938C12.5 13.8359 12.7109 13.625 12.9688 13.625H16.25C17.2852 13.625 18.125 12.7852 18.125 11.75V4.25C18.125 3.21484 17.2852 2.375 16.25 2.375H12.9688C12.7109 2.375 12.5 2.16406 12.5 1.90625V0.96875C12.5 0.710938 12.7109 0.5 12.9688 0.5H16.25C18.3203 0.5 20 2.17969 20 4.25V11.75C20 13.8203 18.3203 15.5 16.25 15.5ZM6.52734 1.26172L5.76172 2.02734C5.57422 2.21484 5.57812 2.51562 5.76953 2.69531L10.1875 6.98438H0.46875C0.210938 6.98438 0 7.19531 0 7.45312V8.54688C0 8.80469 0.210938 9.01562 0.46875 9.01562H10.1875L5.76953 13.3008C5.58203 13.4844 5.57812 13.7852 5.76172 13.9688L6.52734 14.7344C6.71094 14.918 7.00781 14.918 7.19141 14.7344L13.6133 8.32812C13.7969 8.14453 13.7969 7.84766 13.6133 7.66406L7.19141 1.25781C7.00781 1.07813 6.71094 1.07812 6.52734 1.26172Z" fill="#7F8198"/>
                </svg>
                <span>Extractors</span>
              </Link>
            </li>
            <li>
              <Link to="writers" className="navbar-link">
                <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3.75 0.5H7.03125C7.28906 0.5 7.5 0.710938 7.5 0.96875V1.90625C7.5 2.16406 7.28906 2.375 7.03125 2.375H3.75C2.71484 2.375 1.875 3.21484 1.875 4.25V11.75C1.875 12.7852 2.71484 13.625 3.75 13.625H7.03125C7.28906 13.625 7.5 13.8359 7.5 14.0938V15.0312C7.5 15.2891 7.28906 15.5 7.03125 15.5H3.75C1.67969 15.5 0 13.8203 0 11.75V4.25C0 2.17969 1.67969 0.5 3.75 0.5ZM12.7773 1.26172L12.0117 2.02734C11.8242 2.21484 11.8281 2.51562 12.0195 2.69531L16.4375 6.98438H6.71875C6.46094 6.98438 6.25 7.19531 6.25 7.45312V8.54688C6.25 8.80469 6.46094 9.01562 6.71875 9.01562H16.4375L12.0195 13.3008C11.832 13.4844 11.8281 13.7852 12.0117 13.9688L12.7773 14.7344C12.9609 14.918 13.2578 14.918 13.4414 14.7344L19.8633 8.32812C20.0469 8.14453 20.0469 7.84766 19.8633 7.66406L13.4414 1.25781C13.2578 1.07813 12.9609 1.07812 12.7773 1.26172Z" fill="#7F8198"/>
                </svg>
                <span>Writers</span>
              </Link>
            </li>
          </Dropdown>
          <li>
            <Link to="storage-explorer" className="navbar-link">
              <svg width="24" height="20" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M12.69 0.144534L22.8937 4.57031C23.5612 4.86328 23.9999 5.54297 23.9999 6.30078V19.6875C23.9999 19.8594 23.8649 20 23.6999 20H20.6999C20.5349 20 20.3999 19.8594 20.3999 19.6875V10C20.3999 9.3125 19.8524 8.75 19.1775 8.75H4.82249C4.14749 8.75 3.59999 9.3125 3.59999 10V19.6875C3.59999 19.8594 3.46499 20 3.29999 20H0.299999C0.135 20 0 19.8594 0 19.6875V6.30078C0 5.54297 0.438749 4.86328 1.10625 4.57031L11.3062 0.144534C11.7492 -0.0468758 12.247 -0.0468758 12.69 0.144534ZM18.8999 10H5.12241C4.95741 10 4.82241 10.1406 4.82241 10.3125L4.81866 12.1875C4.81866 12.3594 4.95366 12.5 5.11866 12.5H18.8999C19.0649 12.5 19.1999 12.3594 19.1999 12.1875V10.3125C19.1999 10.1406 19.0649 10 18.8999 10ZM5.11491 13.75H18.8999C19.0649 13.75 19.1999 13.8906 19.1999 14.0625V15.9375C19.1999 16.1094 19.0649 16.25 18.8999 16.25H5.11116C4.94616 16.25 4.81116 16.1094 4.81116 15.9375L4.81491 14.0625C4.81491 13.8906 4.94991 13.75 5.11491 13.75ZM5.10368 17.5H18.8999C19.0649 17.5 19.1999 17.6406 19.1999 17.8125V19.6875C19.1999 19.8594 19.0649 20 18.8999 20H5.09993C4.93493 20 4.79993 19.8594 4.79993 19.6875L4.80368 17.8125C4.80368 17.6406 4.93868 17.5 5.10368 17.5Z" fill="#7F8198"/>
              </svg>
              <span>Storage</span>
            </Link>
          </li>
          <li>
            <Link to="orchestrations" className="navbar-link">
              <svg width="24" height="21" viewBox="0 0 24 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M23.561 8.56079L21.4399 6.43969C21.1586 6.15844 20.777 6.00047 20.3791 6.00047H18.0001V2.25C18.0001 1.00734 16.9928 0 15.7501 0H8.25006C7.0074 0 6.00005 1.00734 6.00005 2.25V6H3.62112C3.22315 6 2.84205 6.15797 2.56033 6.43922L0.439222 8.56079C0.15797 8.84204 0 9.2236 0 9.62157V13.5H6.00005V12.75C6.00005 12.3356 6.33567 12 6.75005 12H8.25006C8.66444 12 9.00007 12.3356 9.00007 12.75V13.5H15.0001V12.75C15.0001 12.3356 15.3357 12 15.7501 12H17.2501C17.6645 12 18.0001 12.3356 18.0001 12.75V13.5H24.0002V9.6211C24.0002 9.2236 23.8422 8.84204 23.561 8.56079ZM15.0001 6.00001H9.00012V3.00001H15.0001V6.00001ZM17.2501 16.5C17.6645 16.5 18.0001 16.1644 18.0001 15.75V15H24.0002V19.5C24.0002 20.3283 23.3285 21 22.5002 21H1.50001C0.671724 21 0 20.3283 0 19.5V15H6.00005V15.75C6.00005 16.1644 6.33567 16.5 6.75005 16.5H8.25006C8.66444 16.5 9.00007 16.1644 9.00007 15.75V15H15.0001V15.75C15.0001 16.1644 15.3357 16.5 15.7501 16.5H17.2501Z" fill="#7F8198"/>
              </svg>
              <span>Orchestrations</span>
            </Link>
          </li>
          <li>
            <Link to="transformations" className="navbar-link">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M24 2.25V15.75C24 16.9922 22.9922 18 21.75 18H19.5V8.25C19.5 6.18281 17.8172 4.5 15.75 4.5H6V2.25C6 1.00781 7.00781 0 8.25 0H21.75C22.9922 0 24 1.00781 24 2.25ZM18 8.25V21.75C18 22.9922 16.9922 24 15.75 24H2.25C1.00781 24 0 22.9922 0 21.75V8.25C0 7.00781 1.00781 6 2.25 6H15.75C16.9922 6 18 7.00781 18 8.25ZM14.25 9C14.5594 9 14.8125 9.25313 14.8125 9.5625V12H3V9.5625C3 9.25313 3.25312 9 3.5625 9H14.25Z" fill="#7F8198"/>
              </svg>
              <span>Transformations</span>
            </Link>
          </li>
          <li>
            <Link to="jobs" className="navbar-link">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M0 12C0 5.37097 5.37091 0 11.9999 0C18.6288 0 23.9998 5.37097 23.9998 12C23.9998 18.629 18.6288 24 11.9999 24C5.37091 24 0 18.629 0 12ZM9.08204 18.0484L17.5982 13.1613C18.3917 12.721 18.3917 11.5742 17.5982 11.129L9.08204 5.95161C8.31268 5.52581 7.35461 6.07742 7.35461 6.96774V17.0323C7.35461 17.9274 8.31752 18.4742 9.08204 18.0484Z" fill="#7F8198"/>
              </svg>
              <span>Jobs</span>
            </Link>
          </li>
        </ul>
        <div className="navbar-setting">
          {this.renderBin()}
          {this.renderNotifications()}
          {this.renderSetting()}
        </div>
      </div>
    );
  },

  renderBin() {
    return (
      <Link to="settings-trash">
        <svg width="20" height="24" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19.2857 1.49976H13.9286L13.5089 0.623202C13.42 0.435802 13.2831 0.278165 13.1135 0.168026C12.944 0.0578864 12.7485 -0.000386076 12.5491 -0.000235922H7.44643C7.24749 -0.00103892 7.05236 0.0570163 6.8834 0.167278C6.71443 0.27754 6.57846 0.435549 6.49107 0.623202L6.07143 1.49976H0.714286C0.524845 1.49976 0.343164 1.57878 0.209209 1.71943C0.0752549 1.86009 0 2.05085 0 2.24976L0 3.74976C0 3.94868 0.0752549 4.13944 0.209209 4.28009C0.343164 4.42075 0.524845 4.49976 0.714286 4.49976H19.2857C19.4752 4.49976 19.6568 4.42075 19.7908 4.28009C19.9247 4.13944 20 3.94868 20 3.74976V2.24976C20 2.05085 19.9247 1.86009 19.7908 1.71943C19.6568 1.57878 19.4752 1.49976 19.2857 1.49976ZM2.375 21.8904C2.40907 22.4616 2.64918 22.9977 3.04645 23.3896C3.44373 23.7815 3.9683 23.9997 4.51339 23.9998H15.4866C16.0317 23.9997 16.5563 23.7815 16.9535 23.3896C17.3508 22.9977 17.5909 22.4616 17.625 21.8904L18.5714 5.99976H1.42857L2.375 21.8904Z" fill="#ABABAD"/>
        </svg>
      </Link>
    )
  },

  renderNotifications() {
    if (!this.props.notifications.get('isEnabled')) {
      return null;
    }

    return <NotificationsAccess notifications={this.props.notifications} />;
  },

  renderSetting() {
    return (
      <a href={ApplicationStore.getProjectPageUrl('settings')}>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fillRule="evenodd" clipRule="evenodd" d="M22.9066 14.8887L20.8243 13.6984C21.0335 12.5756 21.0335 11.4244 20.8243 10.3016L22.9066 9.11135C23.1444 8.97538 23.2548 8.6943 23.1734 8.43465C22.6325 6.71005 21.709 5.15198 20.5012 3.85792C20.315 3.65835 20.0141 3.61307 19.7765 3.74886L17.6958 4.93894C16.8204 4.1961 15.8139 3.61982 14.7271 3.2391V0.859237C14.7271 0.586964 14.5359 0.351658 14.2676 0.291997C12.4735 -0.107147 10.6391 -0.0875021 8.9311 0.292336C8.66325 0.351937 8.47292 0.587471 8.47293 0.859334V3.23915C7.38609 3.61989 6.37963 4.19617 5.50419 4.93899L3.4235 3.74891C3.18587 3.61311 2.88496 3.6584 2.69879 3.85797C1.491 5.15203 0.567529 6.71009 0.026639 8.4347C-0.0548121 8.6944 0.0555647 8.97548 0.293371 9.11139L2.37563 10.3017C2.16648 11.4244 2.16648 12.5756 2.37563 13.6984L0.293322 14.8887C0.0555158 15.0246 -0.0548609 15.3057 0.0265902 15.5653C0.56748 17.29 1.491 18.848 2.69874 20.1421C2.88491 20.3416 3.18582 20.3869 3.42345 20.2511L5.50414 19.0611C6.37956 19.8039 7.38603 20.3802 8.47288 20.7609V23.1408C8.47288 23.413 8.66407 23.6483 8.93232 23.708C10.7265 24.1071 12.5609 24.0875 14.2689 23.7077C14.5367 23.6481 14.727 23.4125 14.727 23.1407V20.7609C15.8139 20.3802 16.8203 19.8039 17.6958 19.0611L19.7765 20.2511C20.0141 20.3869 20.315 20.3416 20.5012 20.1421C21.709 18.848 22.6324 17.29 23.1733 15.5653C23.2548 15.3057 23.1444 15.0246 22.9066 14.8887ZM11.6 8.12904C13.7554 8.12904 15.5089 9.86555 15.5089 12C15.5089 14.1344 13.7554 15.8709 11.6 15.8709C9.44459 15.8709 7.69104 14.1344 7.69104 12C7.69104 9.86555 9.44459 8.12904 11.6 8.12904Z" fill="#ABABAD"/>
        </svg>
      </a>
    )
  }
});
